# ๐ ููููุฉ ุชุดุบูู ุงููุธุงู

## โ๏ธ ููู ุฌุฏุงู

ุงููุธุงู ูุชููู ูู **ุนูููุชูู ูููุตูุชูู** ูุฌุจ ุฃู ูุนููุง **ูู ููุณ ุงูููุช**:

1. **Watcher** - ูุฑุงูุจ ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ ููุถูู Jobs ูู ุฏูููุฉ
2. **Worker** - ูุนุงูุฌ ุงูู Jobs ููููุฏ ูููุงุช PDF ุจุดูู ูุณุชูุฑ

---

## ๐ ุทุฑู ุงูุชุดุบูู

### โ ุงูุทุฑููุฉ ุงูุฃููู: ุชุดุบูู ุงูุงุซููู ูุนุงู (ููุตู ุจูุง)

```
ุงููุฑ ููุฑุงู ูุฒุฏูุฌุงู ุนูู: start_both.vbs
```

ุณูุชู ุชุดุบูู Watcher ู Worker ูุนุงู ูู ุงูุฎูููุฉ.

---

### โ ุงูุทุฑููุฉ ุงูุซุงููุฉ: ุชุดุบูู ูู ูุงุญุฏ ุนูู ุญุฏุฉ

#### 1. ุชุดุบูู Watcher
```
ุงููุฑ ููุฑุงู ูุฒุฏูุฌุงู ุนูู: start_watcher.vbs
```

#### 2. ุชุดุบูู Worker
```
ุงููุฑ ููุฑุงู ูุฒุฏูุฌุงู ุนูู: start_worker.vbs
```

---

## ๐ ูุฑุงูุจุฉ ุงููุธุงู

### Watcher Log
```
logs/watcher_runner.log
```

### Worker Log
```
logs/worker_runner.log
```

---

## โฑ๏ธ ุงูุชูููุชุงุช

- **Watcher**: ูุนูู ูู **ุฏูููุฉ ูุงุญุฏุฉ**
- **Worker**: ูุนูู ูู **10 ุซูุงูู** (ูุชุญูู ูู Jobs ุฌุฏูุฏุฉ)

---

## ๐ ุฅููุงู ุงููุธุงู

ุงูุชุญ **Task Manager** ูุงูุชู ุงูุนูููุงุช:
- `php.exe` (watcher_runner.php)
- `php.exe` (worker_runner.php)

ุฃู ุงุณุชุฎุฏู:
```powershell
taskkill /F /IM php.exe
```

---

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: Watcher ุดุบุงู ููู Worker ูุด ุจูุดุชุบู

**ุงูุณุจุจ**: Worker ุจูุงุฎุฏ ููุช ุทููู ูู ุชูููุฏ PDF

**ุงูุญู**: 
- ุชุฃูุฏ ุฅู ุงูุงุซููู ุดุบุงููู ูู processes ูููุตูุฉ
- ุงูุญุต `logs/worker_runner.log`

### ุงููุดููุฉ: ูุง ููุฌุฏ Jobs ุฌุฏูุฏุฉ

**ุงูุณุจุจ**: Watcher ูุญุชุงุฌ 1000 ุตู ุฌุฏูุฏ ุนูู ุงูุฃูู

**ุงูุญู**: ุงูุชุธุฑ ุญุชู ูุชููุฑ 1000 ุตู ุฌุฏูุฏ ูู ุฌุฏูู `0_stock_moves`

---

## โจ ููุงุญุธุงุช

- ุงูู **Lock Files** ุชููุน ุงูุชุดุบูู ุงููุชุฒุงูู ูููุณ ุงูู process
- Watcher Lock: `watcher.lock` (ูุฏุฉ 2 ุฏูููุฉ)
- Worker Lock: `worker.lock` (ูุฏุฉ 10 ุฏูุงุฆู)
- ุฅุฐุง ุญุฏุซ crashุ ุงูู lock files ุณุชูุญุฐู ุชููุงุฆูุงู ุจุนุฏ ุงูุชูุงุก ุงููุฏุฉ

---

## ๐ ูุซุงู ุนูู ุณูุฑ ุงูุนูู

```
ุงูููุช 00:00 โ Watcher ููุญุต ุงูุจูุงูุงุช โ ูุถูู 3 Jobs ุฌุฏูุฏุฉ
ุงูููุช 00:00 โ Worker ูุจุฏุฃ ูุนุงูุฌุฉ Job #1 (ูุณุชุบุฑู 5 ุฏูุงุฆู)
ุงูููุช 00:01 โ Watcher ููุญุต ุงูุจูุงูุงุช ูุฑุฉ ุฃุฎุฑู (Worker ูุง ูุฒุงู ูุนูู)
ุงูููุช 00:05 โ Worker ููุชูู ูู Job #1 โ ูุจุฏุฃ Job #2
ุงูููุช 00:02 โ Watcher ููุญุต ุงูุจูุงูุงุช (Worker ูุง ูุฒุงู ูุนูู)
...
```

**ุงููุงุฆุฏุฉ**: Watcher ู Worker ูุนููุงู **ุจุดูู ูุณุชูู** ุฏูู ุงูุชุธุงุฑ ุจุนุถููุง ุงูุจุนุถ!
